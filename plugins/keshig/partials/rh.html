<div class="b-workspace-content b-workspace-content_border">
    <div class="b-workspace-content__row" style="text-align: right">
        <button class="b-btn b-btn_green" ng-click="keshigCtrl.getResourceHostsUpdates()">Update</button>
    </div>
    <div class="b-data-table">
        <table datatable="ng" ng-show="keshigCtrl.resourceHostsStatuses.length > 0"
               dt-options="keshigCtrl.dtOptions"
               dt-column-defs="keshigCtrl.dtColumnDefs"
               class="row-border hover subt_table-containers-table">
            <thead>
                <tr>
                    <th>Hostname</th>
                    <th>Peer IP Address</th>
                    <th>Last Updated</th>
                    <th>Comment</th>
                    <th>Status</th>
                    <th>Free</th>
                    <th>Details</th>
                </tr>
            </thead>
            <tbody>
            <tr ng-repeat="resourceHost in keshigCtrl.resourceHostsStatuses track by $index">
                <td>{{ resourceHost.hostname }}</td>
                <td>{{ resourceHost.peer.ip ? resourceHost.peer.ip : resourceHost.peer }}</td>
                <td>{{ resourceHost.lastUpdated }}</td>
                <td>
                    <div style="display: inline-flex">
                        <input type="text" ng-model="resourceHost.comment" class="b-form-input" ng-change="resourceHost.changed = true">
                        <button 
						class="b-btn b-btn_green" 
						ng-if="resourceHost.changed" 
	  					style="margin-left: 10px" 
						ng-click="keshigCtrl.updateResourceHost(resourceHost)">
							Edit
						</button>
                    </div>
                </td>
                <td>{{ resourceHost.peer.status ? resourceHost.peer.status : '' }}</td>
                <td>{{ resourceHost.peer.free !== undefined ? resourceHost.peer.free : '' }}</td>
                <td>
                    <span class="b-icon b-icon_edit" ng-click="keshigCtrl.showPeerInfo(resourceHost)"></span>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="b-workspace-content b-workspace-content_border">
    <div class="b-workspace-content__row" style="text-align: right">
        <button class="b-btn b-btn_green" ng-click="keshigCtrl.getResourceHostsUpdates()">Update</button>
    </div>
    <div class="b-data-table">
        <table datatable="ng" ng-show="keshigCtrl.resourceHostsStatuses.length > 0"
               dt-options="keshigCtrl.dtOptions"
               dt-column-defs="keshigCtrl.dtColumnDefs"
               class="row-border hover subt_table-containers-table">
            <thead>
                <tr>
                    <th>Hostname</th>
                    <th>Peer IP Address</th>
                    <th>Last Updated</th>
                    <th>Comment</th>
                    <th>Used By</th>
                    <th>Free</th>
                    <th>Details</th>
                </tr>
            </thead>
            <tbody>
            <tr ng-repeat="resourceHost in keshigCtrl.resourceHostsStatuses track by $index">
                <td>{{ resourceHost.hostname }}</td>
                <td>{{ resourceHost.peer.ip ? resourceHost.peer.ip : resourceHost.peer }}</td>
                <td>{{ resourceHost.lastUpdated }}</td>
                <td>
                    <!--<input type="text" ng-model="resourceHost.comment" class="b-form-input" ng-change="resourceHost.changed = true">-->
                    <!--<button class="b-btn b-btn_green" ng-if="resourceHost.changed" ng-click="keshigCtrl.updateResourceHost(resourceHost)">Edit</button>-->
                    {{ resourceHost.comment ? resourceHost.comment : 'null' }}
                </td>
                <td>{{ resourceHost.peer.usedBy ? resourceHost.peer.usedBy : 'null' }}</td>
                <td>{{ resourceHost.peer.free !== undefined ? resourceHost.peer.free : '' }}</td>
                <td>
                    <i class="fa fa-info-circle" style="cursor: pointer" ng-click="keshigCtrl.showPeerInfo(resourceHost)"></i>
                    <i class="fa fa-pencil-square-o" style="cursor: pointer" ng-click="keshigCtrl.editPeerData(resourceHost)"></i>
                    <i class="fa fa-times" style="cursor: pointer" ng-click="keshigCtrl.unapproveResourceHost(resourceHost)"></i>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
